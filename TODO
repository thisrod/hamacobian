Refactor Matrix and states.py so that randd() can be part of utils.py
